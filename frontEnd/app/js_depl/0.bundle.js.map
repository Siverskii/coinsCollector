{"version":3,"sources":["webpack:///0.bundle.js","webpack:///./frontEnd/app/js/common/eventDispatcher.js","webpack:///./frontEnd/app/js/common/messageController/messageController.js","webpack:///./frontEnd/app/js/pages/pageController.js","webpack:///./frontEnd/app/js/common/View.js","webpack:///./frontEnd/app/js/common/templateMaker.js","webpack:///./frontEnd/app/js/coins/models/coinModel.js","webpack:///./frontEnd/app/js/common/RESTfulAPI.js","webpack:///./frontEnd/app/js/coins/collections/coinsCollection.js","webpack:///./frontEnd/app/js/pages/pagesView/aboutPageView.js","webpack:///./frontEnd/app/js/pages/pagesView/coinsDescriptionView.js","webpack:///./frontEnd/app/js/pages/pagesView/coinsPageView.js","webpack:///./frontEnd/app/js/pages/pagesView/contentPageView.js","webpack:///./frontEnd/app/js/pages/pagesView/endPageView.js","webpack:///./frontEnd/app/js/rotateCtrl/rotateController.js"],"names":["webpackJsonp","301","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","events","subEventId","trigger","event","arg","forEach","callback","on","id","push","off","Object","keys","eventArray","index","length","splice","call","302","__WEBPACK_AMD_DEFINE_ARRAY__","this","showConnectionError","footters","Array","from","document","querySelectorAll","node","classList","remove","add","innerHTML","setTimeout","showCollectionHasLoaded","apply","303","eventDispatcher","contentPageView","coinsPageView","rotateController","coinsCollection","endPageView","aboutPageView","coinModel","coinsDescriptionView","series","showContentPage","render","setPageZindex","start","addNewCoinsSeries","Promise","resolve","reject","url","seriesNumber","fetch","success","collection","modelIndex","model","set","pageNumb","error","coinsDescr","page","imgNum","sectionForDescDisplay","view","coinsContainer","querySelector","coinDescription","response","disappear","disappearInterval","setInterval","setAttribute","clearInterval","renderTo","get","showEndPage","showAboutPage","pages","maxIndex","i","transform","window","getComputedStyle","getPropertyValue","deg","Math","acos","split","PI","304","prototype","_this","intModel","getAttr","rootId","insertAdjacentHTML","tpl","tagClass","viewId","lastElementChild","addEventListener","bind","root","_this2","extend","obj","prop","hasOwnProperty","intEvents","eventTarge","removeEventListener","305","idOrClass","htmlTpl","Function","JSON","stringify","replace","match","p1","306","RESTfulAPI","attributes","arguments","_coinAttr","attrs","attr","data","callbacks","init","method","imgPageNum","imgSeries","send","then","serverResponse","status","parse","save","307","options","req","XMLHttpRequest","open","setRequestHeader","responseText","308","309","coinsModel","pop","modelCollect","310","View","templateMaker","311","click .closeDescription","closeDescription","312","Date","now","click .coinsContainer","click .page__footer_messField","click .backPage__footer_messField","getCoinsDescr","indexOf","target","getAttribute","openPage","firstElementChild","closePage","313","click .page__nav_item","turnThePage","currentTarget","firstChild","contains","floor","314","315","mouseX","mouseY","currentPage","zIndexCurrent","positionCurrent","spinLeftZoneEn","spinRightZoneEn","startX","deltaX","rightZone","leftZone","leftZoneRestrict","autoRotate","isBookOpen","closeRotateEn","openRotateEn","bookPosition","bookPositionCalc","pagesAmount","setRotateEvent","location","reload","pageNum","pageSection","slice","toggle","style","yZoneEn","top","height","clientX","clientY","left","body","width","rotateYInterval","className","deltaTranslate","round","getBoundingClientRect","rotateXInterval","right","translateStart","speed","rotateDeg","rotateInterval","dispatchEvent","Event","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","getElementsByTagName","Symbol","iterator","next","done","value","err","return","titlePage","316"],"mappings":"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","file":"0.bundle.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 301:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_RESULT__;//ЕventDispatcher предназначен для осуществления обмена информацией между различными(несвязанными на прямую) частями приложения. Events - oбъект-контейнер,названия свойств которого - есть именованные названиями событий массивы; метод trigger, получая  имя события исполняет callback функции подписчиков;метод on создает свойство-массив с именем события в контейнере events(если его не было создано) и добавляет в него callback функцию подписчика, возвращая последнему id события;метод off, получая id события, удаляет его или из массива одноименных событий или если событие там одно, удаляет соответствующее свойство объекта events.\n\n\n!(__WEBPACK_AMD_DEFINE_RESULT__ = function () {\n    var events = {};\n    var subEventId = -1;\n    return {\n        trigger: function trigger(event, arg) {\n            if (!events[event]) {\n                return false;\n            }\n            events[event].forEach(function (event) {\n                return event.callback(arg);\n            });\n        },\n        on: function on(event, callback) {\n            if (!events[event]) {\n                events[event] = [];\n            }\n            var id = ++subEventId;\n            events[event].push({\n                callback: callback,\n                subEventId: id\n            });\n            return id;\n        },\n        off: function off(id) {\n            Object.keys(events).forEach(function (eventArray) {\n                events[eventArray].forEach(function (event, index) {\n                    if (event.subEventId == id) {\n                        events[eventArray].length > 1 ? events[eventArray].splice(index, 1) : delete events[eventArray];\n                    }\n                });\n            });\n        }\n    };\n}.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n\n/***/ 302:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(316)], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n    var messageController = function messageController() {\n        this.showConnectionError = function () {\n            var footters = Array.from(document.querySelectorAll(\".page__footer_messField,.backPage__footer_messField\"));\n            footters.forEach(function (node) {\n                node.classList.remove(\"completeMessage\");\n                node.classList.add(\"errorMessage\");\n                node.innerHTML = \"Сбой при загрузке, <br> проверьте соединение с интернетом.\";\n            });\n            setTimeout(function () {\n                footters.forEach(function (node) {\n                    node.classList.remove(\"errorMessage\");\n                    node.innerHTML = \"\";\n                });\n                footters = null;\n            }, 6000);\n        };\n        this.showCollectionHasLoaded = function () {\n            var footters = Array.from(document.querySelectorAll(\".page__footer_messField,.backPage__footer_messField\"));\n            footters.forEach(function (node) {\n                node.classList.add(\"completeMessage\");\n                node.innerHTML = \"Все коллекции успешно загружены.\";\n            });\n            setTimeout(function () {\n                footters.forEach(function (node) {\n                    node.classList.remove(\"completeMessage\");\n                    node.innerHTML = \"<span class='arrow'>&#10150</span>\";\n                });\n                footters = null;\n            }, 4000);\n        };\n    };\n    return new messageController();\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n\n/***/ 303:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(301), __webpack_require__(313), __webpack_require__(312), __webpack_require__(315), __webpack_require__(309), __webpack_require__(314), __webpack_require__(310), __webpack_require__(306), __webpack_require__(311)], __WEBPACK_AMD_DEFINE_RESULT__ = function (eventDispatcher, contentPageView, coinsPageView, rotateController, coinsCollection, endPageView, aboutPageView, coinModel, coinsDescriptionView) {\n    var contentPageController = function contentPageController() {\n        var series = 0;\n        var pageNumber = void 0;\n        this.showContentPage = function () {\n            var view = new contentPageView().render();\n            setPageZindex();\n            new rotateController().start();\n        };\n        this.addNewCoinsSeries = function () {\n            return new Promise(function (resolve, reject) {\n                new coinsCollection({ url: \"getCoinsSeries\", seriesNumber: series++ }).fetch({\n                    success: function success(collection) {\n                        var modelIndex = 0;\n                        collection.forEach(function (model) {\n                            model.set({ pageNumb: document.querySelectorAll(\".contentSection\").length * 2 + 1, modelIndex: modelIndex++ });\n                            new coinsPageView(model).render();\n                        });\n                        eventDispatcher.trigger(\"addNewPages\");\n                        setPageZindex();\n                        //setTimeout(resolve,3000);\n                        resolve();\n                    },\n                    error: function error() {\n                        reject();\n                    }\n                });\n            });\n        };\n\n        eventDispatcher.on(\"addNewPages\", function () {\n            return setPageZindex();\n        });\n\n        eventDispatcher.on(\"pageCtrlGetCoinsDescr\", function (coinsDescr) {\n            var page = coinsDescr.imgNum > 11 ? 1 : 0;\n            var sectionForDescDisplay = coinsDescr.view.querySelectorAll(\".page__body\")[page];\n            var coinsContainer = sectionForDescDisplay.querySelector(\".coinsContainer\");\n            var coinDescription = sectionForDescDisplay.querySelector(\".coinDescriptionWrapper\");\n            var model = new coinModel({\n                url: \"getCoinDescription\"\n            });\n\n            model.fetch(coinsDescr, {\n                success: function success(response, model) {\n                    var disappear = 0.8;\n                    var disappearInterval = setInterval(function () {\n                        disappear = disappear - 0.1;\n                        if (disappear > 0) {\n                            //coinsContainer.style=\"opacity:\"+disappear;\n                            coinsContainer.setAttribute(\"style\", \"opacity:\" + disappear);\n                        } else {\n                            clearInterval(disappearInterval);\n                            //coinsContainer.style=\"opacity:0\";\n                            coinsContainer.setAttribute(\"style\", \"opacity:0\");\n                            //coinDescription.style=\"display:block\";\n                            coinDescription.setAttribute(\"style\", \"display:block\");\n                            //coinsContainer.style=\"display:none\";\n                            coinsContainer.setAttribute(\"style\", \"display:none\");\n                        }\n                    }, 30);\n                    model.set({ coinsContainer: coinsContainer, coinDescription: coinDescription });\n                    new coinsDescriptionView(model).renderTo(coinDescription);\n                },\n                error: function error() {\n                    eventDispatcher.trigger(\"showConnectionError\");\n                }\n            });\n        });\n\n        eventDispatcher.on(\"closeDescription\", function (model) {\n            //model.get(\"coinsContainer\").style=\"display:flex\";\n            model.get(\"coinsContainer\").setAttribute(\"style\", \"display:flex\");\n            //model.get(\"coinDescription\").style=\"display:none\";\n            model.get(\"coinDescription\").setAttribute(\"style\", \"display:none\");\n            model.get(\"coinDescription\").innerHTML = \"\";\n        });\n\n        this.showEndPage = function () {\n            new endPageView().render();\n            eventDispatcher.trigger(\"addNewPages\");\n            setPageZindex();\n        };\n\n        this.showAboutPage = function () {\n            new aboutPageView().render();\n            eventDispatcher.trigger(\"addNewPages\");\n            setPageZindex();\n        };\n\n        var setPageZindex = function setPageZindex() {\n            var pages = Array.from(document.querySelectorAll(\".pageSection\")),\n                maxIndex = pages.length;\n            for (var i = 0; i < maxIndex; i++) {\n                var transform = window.getComputedStyle(pages[i]).getPropertyValue(\"transform\");\n                var deg = Math.acos(transform.split(\",\")[0].split(\"(\")[1]) * 180 / Math.PI;\n                if (transform == \"none\" || Math.acos(transform.split(\",\")[0].split(\"(\")[1]) * 180 / Math.PI < 90) {\n                    //pages[i].setAttribute(\"style\", \"z-index:\" + (maxIndex - i));pages[i].style.zIndex = maxIndex - i;\n                    if (transform == \"none\") {\n                        pages[i].setAttribute(\"style\", \"z-index:\" + (maxIndex - i));\n                    } else {\n                        pages[i].setAttribute(\"style\", \"transform:rotateY(\" + -deg + \"deg); z-index:\" + (maxIndex - i));\n                    }\n                } else {\n                    //pages[i].style.zIndex = 2 - (maxIndex - i - 1);\n                    if (deg != 180) deg = -deg;\n                    pages[i].setAttribute(\"style\", \"transform:rotateY(\" + deg + \"deg); z-index:\" + (2 - (maxIndex - i - 1)));\n                }\n            }\n            eventDispatcher.trigger(\"captureNewCurrentPageZindex\");\n        };\n    };\n    return new contentPageController();\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n\n/***/ 304:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;//Представление предназначено для наполнения html шаблона данными с сервера и отображения последнего в соответствующем месте приложения. При создании представления на вход передается объект attr со следующими свойствами: attr.rootId - id или class элемента страницы, в котором будет развернуто представление; attr.tmplId - id скрипта, в ктором находится шаблон представления; attr.model - модель содержащая данные для шаблона.//templateMaker - шаблонизаторы предназначены для динамического посторяения html страниц используя данные с сервера. В основе простейшего шаблонизатора лежит принцип динамического построения js функция с использованием конструктора функций new Function(\"парам1\",\"парам2\"...\"тело функции\") и функции String.prototype.replace, с помощью которой в шаблоне ищется и заменяется данными с сервера определенная(регулярным выражением) часть шаблана.  \n\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n    var view = function view(model) {\n        this.model = model;\n    };\n\n    view.prototype.render = function (model) {\n        var _this = this;\n\n        var intModel = void 0;\n        this.model != undefined ? intModel = this.model.getAttr() : intModel = {};\n        document.querySelector(this.rootId).insertAdjacentHTML('beforeend', this.tpl(intModel, this.tagClass, this.viewId));\n        if (this.events != undefined) {\n            this.events.forEach(function (event) {\n                Array.from(document.querySelector(_this.rootId).lastElementChild.querySelectorAll(event[1])).forEach(function (node) {\n                    return node.addEventListener(event[0], _this[event[2]].bind(_this));\n                });\n            });\n        }\n        return this;\n    };\n\n    view.prototype.renderTo = function (root) {\n        var _this2 = this;\n\n        root.insertAdjacentHTML('beforeend', this.tpl(this.model.getAttr(), this.tagClass, this.viewId));\n        if (this.events != undefined) {\n            this.events.forEach(function (event) {\n                Array.from(root.querySelectorAll(event[1])).forEach(function (node) {\n                    return node.addEventListener(event[0], _this2[event[2]].bind(_this2));\n                });\n            });\n        }\n        return this;\n    };\n\n    view.prototype.extend = function (obj) {\n        for (var prop in obj) {\n            if (Object.hasOwnProperty.call(obj, prop)) this[prop] = obj[prop];\n        }\n\n        if (this.events != undefined) {\n            var intEvents = [];\n            for (var event in this.events) {\n                if (Object.hasOwnProperty.call(this.events, event)) {\n                    var eventTarge = event.split(\" \");\n                    intEvents.push([eventTarge[0], eventTarge[1], this.events[event]]);\n                }\n            }\n            this.events = intEvents;\n        }\n        return this;\n    };\n\n    view.prototype.remove = function () {\n        if (this.events != undefined) {\n            this.events.forEach(function (event) {\n                Array.from(document.querySelector(event[1])).forEach(function (node) {\n                    return node.removeEventListener(event[0], event[2]);\n                });\n            });\n        }\n    };\n\n    return view;\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n\n/***/ 305:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_RESULT__;//Шаблонизаторы предназначены для динамического посторяения html страниц используя данные с сервера. В основе простейшего шаблонизатора лежит принцип динамического построения js функция с использованием конструктора функций new Function(\"парам1\",\"парам2\"...\"тело функции\") и функции String.prototype.replace, с помощью которой в шаблоне ищется и заменяется данными с сервера определенная(регулярным выражением) часть шаблана.\n\n\n!(__WEBPACK_AMD_DEFINE_RESULT__ = function () {\n    var templateMaker = function templateMaker(idOrClass) {\n        var htmlTpl = document.querySelector(idOrClass).innerHTML;\n        return new Function(\"model, tagClass, viewId\", \"let source = \" + JSON.stringify('<div id=\"<%=viewId%>\" class=\"<%=tagClass%>\">' + htmlTpl + '</div>').replace(/<%=(.+?)%>/g, function (match, p1) {\n            return '\"+' + p1.replace(/[&<>[](){}\"']/g, \"\") + '+\"';\n        }).replace(/<%(.+?)%>/g, '\";$1 source+=\"') + \";return source;\");\n    };\n    return templateMaker;\n}.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n\n/***/ 306:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;//Модель  coinModel - контейнер, со встроенными методами, предназначенный для хранения информации о каждой монете. Модель имеет следующие методы: set/get - для установки и получения атрибутов модели; fetch/save - для получения/загрузки информации на сервер, методы fetch/save принимают на вход функции success и error, которые срабатывают в зависимости от результата взаимодействия с сервером(success-успеха,error-ошибки). Обмен с сервером происходит посредством объекта RESTfulAPI, который после инициализации и вызова метода send, возвразщает promise, при срабатывании которого методы fetch/save получают ответ от сервера и вызывают соответсвущие callback функции.    \n\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(307)], __WEBPACK_AMD_DEFINE_RESULT__ = function (RESTfulAPI) {\n  var coinModel = function coinModel() {\n    var attributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this.url = attributes.url || \"test\";\n    delete attributes.url;\n    this._coinAttr = attributes;\n  };\n\n  coinModel.prototype.set = function () {\n    var attrs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    for (var attr in attrs) {\n      this._coinAttr[attr] = attrs[attr];\n    }\n    return this;\n  }, coinModel.prototype.getAttr = function () {\n    var intModel = {};\n    for (var prop in this._coinAttr) {\n      intModel[prop] = this._coinAttr[prop];\n    }\n    return intModel;\n  }, coinModel.prototype.get = function (attr) {\n    return this._coinAttr[attr];\n  }, coinModel.prototype.fetch = function (data) {\n    var _this = this;\n\n    var callbacks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var responsePromise = RESTfulAPI.init({ method: \"GET\", url: this.url + \"?imgNum=\" + data.imgNum + \"&imgPageNum=\" + data.imgPageNum + \"&imgSeries=\" + data.imgSeries }).send();\n    responsePromise.then(function (serverResponse) {\n      serverResponse.status == \"200\" ? callbacks.success(serverResponse, _this.set(JSON.parse(serverResponse.data))) : callbacks.error(serverResponse);\n      return;\n    }, function () {});\n  };\n\n  coinModel.prototype.save = function () {\n    var callbacks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var method = void 0;\n    this._coinAttr['id'] != undefined ? method = \"PUT\" : method = \"POST\";\n    var responsePromise = RESTfulAPI.init({ method: method, url: this.url }).send(this._coinAttr);\n    responsePromise.then(function (serverResponse) {\n      serverResponse.status == \"200\" ? callbacks.success(serverResponse) : callbacks.error(serverResponse);\n      return;\n    }, function () {});\n  };\n  return coinModel;\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n\n/***/ 307:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_RESULT__;//Объект RESTfulAPI предназначен для осущесивления обмена данными с сервером. Обмен с сервером происходи посредством встроенного объекта XMLHttpRequest. RESTfulAPI имеет следующие методы: метод init - для установки метода обмена с сервером (POST,GET,PUT,UPDATE),url с которым происходит обмен и сами данные; метод send - для отправки сообщение на сервер.   \n\n\n!(__WEBPACK_AMD_DEFINE_RESULT__ = function () {\n    var RESTfulAPI = function RESTfulAPI(options) {};\n\n    RESTfulAPI.prototype.init = function (options) {\n        var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        this.method = options.method, this.url = options.url;\n        this.data = data;\n        return this;\n    };\n\n    RESTfulAPI.prototype.send = function () {\n        var _this = this;\n\n        var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\n        return new Promise(function (resolve, reject) {\n            var req = new XMLHttpRequest(),\n                resp = void 0;\n            req.open(_this.method, _this.url, true);\n            req.setRequestHeader(\"Content-Type\", 'application/json');\n            req.addEventListener(\"load\", function () {\n                resolve({\n                    status: req.status,\n                    data: req.responseText\n                });\n            });\n            req.send(JSON.stringify(data));\n        });\n    };\n\n    return new RESTfulAPI();\n}.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n\n/***/ 308:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 309:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;//Коллекция coinsCollection - контейнер моделей монет. Коллекция имеет метод fetch для информации о моделях с сервера и создания массива моделей coinsModel. Обмен с сервером происходит аналогично методу fetch модели coinsModel. \n\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(307), __webpack_require__(306)], __WEBPACK_AMD_DEFINE_RESULT__ = function (RESTfulAPI, coinsModel) {\n  var coinsCollection = function coinsCollection() {\n    var attr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this.url = attr.url + \"?series=\" + attr.seriesNumber;\n    this.seriesNumber = attr.seriesNumber;\n    this.collection = [];\n  };\n\n  coinsCollection.prototype.pop = function () {\n    return this.collection.pop();\n  }, coinsCollection.prototype.fetch = function () {\n    var _this = this;\n\n    var callbacks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var responsePromise = RESTfulAPI.init({ method: \"GET\", url: this.url }).send(null);\n    responsePromise.then(function (serverResponse) {\n      if (serverResponse.status == \"200\") {\n        var modelCollect = JSON.parse(serverResponse.data);\n        Object.keys(modelCollect).forEach(function (modelIndex) {\n          _this.collection.push(new coinsModel(modelCollect[modelIndex]));\n        });\n        callbacks.success(_this.collection);\n      } else callbacks.error(serverResponse);\n    });\n  };\n  return coinsCollection;\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n\n/***/ 310:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(304), __webpack_require__(305)], __WEBPACK_AMD_DEFINE_RESULT__ = function (View, templateMaker) {\n    var aboutPageView = function aboutPageView(model) {\n        return new View(model).extend({\n            rootId: \".coinsBook\",\n            tpl: templateMaker(\"#aboutPage-tpl\")\n        });\n    };\n    return aboutPageView;\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n\n/***/ 311:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(304), __webpack_require__(305), __webpack_require__(301)], __WEBPACK_AMD_DEFINE_RESULT__ = function (View, templateMaker, eventDispatcher) {\n  var coinsDescription = function coinsDescription(model) {\n    return new View(model).extend({\n      tagClass: \"coinDescription\",\n      tpl: templateMaker(\"#coinsDescription-tpl\"),\n\n      events: {\n        \"click .closeDescription\": \"closeDescription\"\n      },\n\n      closeDescription: function closeDescription() {\n        eventDispatcher.trigger(\"closeDescription\", this.model);\n      }\n    });\n  };\n  return coinsDescription;\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n\n/***/ 312:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(304), __webpack_require__(301), __webpack_require__(305), __webpack_require__(308)], __WEBPACK_AMD_DEFINE_RESULT__ = function (View, eventDispatcher, templateMaker) {\n    var contentPageView = function contentPageView(model) {\n        return new View(model).extend({\n            viewId: \"view\" + Date.now(),\n            rootId: \".coinsBook\",\n            tagClass: \"\",\n            tpl: templateMaker(\"#coinPage-tpl\"),\n            events: {\n                \"click .coinsContainer\": \"getCoinsDescr\",\n                \"click .page__footer_messField\": \"openPage\",\n                \"click .backPage__footer_messField\": \"closePage\"\n            },\n            getCoinsDescr: function getCoinsDescr(event) {\n                var series = [\"Города воинской славы\", \"Древние города России\", \"Российская Федерация\", \"Русский балет\", \"Красная книга\", \"70-летие Победы\", \"Памятные монеты\"];\n\n                var imgSeries = series.indexOf(event.target.getAttribute(\"data-series\"));\n                if (imgSeries != -1) {\n                    eventDispatcher.trigger(\"pageCtrlGetCoinsDescr\", {\n                        imgNum: event.target.getAttribute(\"data-img\"),\n                        imgPageNum: event.target.getAttribute(\"data-page\"),\n                        imgSeries: imgSeries,\n                        view: document.querySelector(\"#\" + this.viewId)\n                    });\n                }\n            },\n            openPage: function openPage() {\n                eventDispatcher.trigger(\"openPage\", document.querySelector(\"#\" + this.viewId).firstElementChild);\n            },\n            closePage: function closePage() {\n                eventDispatcher.trigger(\"closePage\", document.querySelector(\"#\" + this.viewId).firstElementChild);\n            }\n        });\n    };\n    return contentPageView;\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n\n/***/ 313:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(304), __webpack_require__(301), __webpack_require__(305), __webpack_require__(308)], __WEBPACK_AMD_DEFINE_RESULT__ = function (View, eventDispatcher, templateMaker) {\n    var contentPageView = function contentPageView(model) {\n        return new View(model).extend({\n            viewId: \"view\" + Date.now(),\n            rootId: \"#coinEntrance\",\n            tagClass: \"pageContainer\",\n            tpl: templateMaker(\"#startPage-tpl\"),\n            events: {\n                \"click .page__nav_item\": \"turnThePage\",\n                \"click .page__footer_messField\": \"openPage\",\n                \"click .backPage__footer_messField\": \"closePage\"\n            },\n\n            turnThePage: function turnThePage(event) {\n                var target = event.currentTarget;\n                if (!target.firstChild.classList.contains(\"loadingFog\")) {\n                    eventDispatcher.trigger(\"turnThePage\", Math.floor(target.getAttribute(\"data-num\") / 2));\n                }\n            },\n            openPage: function openPage() {\n                eventDispatcher.trigger(\"openPage\", document.querySelector(\".chaptersSection\"));\n            },\n            closePage: function closePage() {\n                eventDispatcher.trigger(\"closePage\", document.querySelector(\".chaptersSection\"));\n            }\n        });\n    };\n    return contentPageView;\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n\n/***/ 314:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(304), __webpack_require__(305)], __WEBPACK_AMD_DEFINE_RESULT__ = function (View, templateMaker) {\n    var endPageView = function endPageView(model) {\n        return new View(model).extend({\n            rootId: \".coinsBook\",\n            tpl: templateMaker(\"#endPage-tpl\")\n        });\n    };\n    return endPageView;\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n\n/***/ 315:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(301)], __WEBPACK_AMD_DEFINE_RESULT__ = function (eventDispatcher) {\n    var rotateController = function rotateController() {\n        var mouseX = void 0,\n            mouseY = void 0,\n            currentPage = void 0,\n            zIndexCurrent = void 0,\n            positionCurrent = void 0,\n            spinLeftZoneEn = void 0,\n            spinRightZoneEn = void 0,\n            startX = void 0,\n            deltaX = void 0,\n            rightZone = void 0,\n            leftZone = void 0,\n            leftZoneRestrict = false,\n            autoRotate = false,\n            isBookOpen = false,\n            closeRotateEn = false,\n            openRotateEn = true;\n\n        this.start = function () {\n            var bookPosition = bookPositionCalc(),\n                pagesAmount = Array.from(document.querySelectorAll(\".pageSection\")).length;\n\n            eventDispatcher.on(\"addNewPages\", function () {\n                return setRotateEvent();\n            });\n\n            eventDispatcher.on(\"captureNewCurrentPageZindex\", function () {\n                if (currentPage) {\n                    zIndexCurrent = window.getComputedStyle(currentPage).getPropertyValue(\"z-index\");\n                    if (deltaX >= 90) {\n                        positionCurrent = \"matrix3d(-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1)\";\n                    } else {\n                        positionCurrent = window.getComputedStyle(currentPage).getPropertyValue(\"transform\");\n                    }\n                }\n            });\n\n            window.addEventListener(\"orientationchange\", function () {\n                window.location.reload(false);\n            });\n\n            eventDispatcher.on(\"turnThePage\", function (pageNum) {\n                var pageSection = document.querySelectorAll(\".coinsSection\");\n                var pages = Array.prototype.slice.call(pageSection, 0, pageNum - 2);\n                if (pageNum - 2 > 0) {\n                    pages.forEach(function (page) {\n                        page.classList.toggle(\"hide\");\n                    });\n                    openPage(document.querySelector(\".chaptersSection\"), 5);\n                    setTimeout(function () {\n                        openPage(pageSection[pageNum - 2], 5);\n                        setTimeout(function () {\n                            pages.forEach(function (page) {\n                                page.style.transform = \"rotateY(180deg)\";\n                                page.classList.toggle(\"hide\");\n                            });\n                            eventDispatcher.trigger(\"addNewPages\");\n                            pages = null;\n                        }, 1000);\n                    }, 650);\n                } else {\n                    openPage(document.querySelector(\".chaptersSection\"), 5);\n                }\n            });\n\n            eventDispatcher.on(\"openPage\", function (page) {\n                return openPage(page, 5);\n            });\n            eventDispatcher.on(\"closePage\", function (page) {\n                return openPage(page, 5, true);\n            });\n\n            window.addEventListener(\"resize\", function () {\n                bookPosition = bookPositionCalc();\n            });\n\n            document.addEventListener(\"mousemove\", function (event) {\n                var yZoneEn = 0 < mouseY - bookPosition.top && mouseY < bookPosition.top + bookPosition.height;\n                mouseX = event.clientX;\n                mouseY = event.clientY;\n                if (0 < mouseX - bookPosition.left && mouseX - bookPosition.left < 75 && leftZoneRestrict && yZoneEn) {\n                    leftZone = true;\n                    document.body.setAttribute(\"style\", \"cursor:move\");\n                } else if (mouseX < bookPosition.left + bookPosition.width && mouseX > bookPosition.left + bookPosition.width - 75 && yZoneEn) {\n                    rightZone = true;\n                    document.body.setAttribute(\"style\", \"cursor:move\");\n                } else {\n                    leftZone = false;\n                    rightZone = false;\n                    document.body.setAttribute(\"style\", \"cursor:default\");\n                }\n            });\n\n            document.addEventListener(\"mousemove\", function () {\n                if (spinLeftZoneEn || spinRightZoneEn) {\n                    if (spinRightZoneEn) deltaX = (startX - mouseX) / 6;\n                    if (spinLeftZoneEn) deltaX = 180 - (mouseX - startX) / 6;\n                    if (deltaX <= 0) deltaX = 0;\n                    if (deltaX >= 180) deltaX = 180;\n                    autoRotate = true;\n                    if (deltaX > 90) {\n                        if (openRotateEn) {\n                            //currentPage.firstElementChild.style.zIndex = \"0\";\n                            currentPage.firstElementChild.setAttribute(\"style\", \"z-index:0\");\n                            if (positionCurrent == \"matrix3d(-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1)\" || positionCurrent == \"matrix3d(-1, 0, -1.22465e-16, 0, 0, 1, 0, 0, 1.22465e-16, 0, -1, 0, 0, 0, 0, 1)\") {\n                                //currentPage.style.zIndex = (zIndexCurrent);\n                                currentPage.setAttribute(\"style\", \"z-index:\" + zIndexCurrent);\n                            } else {\n                                //currentPage.style.zIndex = pagesAmount - (zIndexCurrent-1);\n                                currentPage.setAttribute(\"style\", \"z-index:\" + (pagesAmount - (zIndexCurrent - 1)));\n                            }\n                            closeRotateEn = true;\n                            openRotateEn = false;\n                        }\n                    } else if (deltaX < 90) {\n                        if (closeRotateEn) {\n                            //currentPage.firstElementChild.style.zIndex = \"1\";\n                            currentPage.firstElementChild.setAttribute(\"style\", \"z-index:1\");\n                            if (positionCurrent != \"matrix3d(-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1)\" && positionCurrent != \"matrix3d(-1, 0, -1.22465e-16, 0, 0, 1, 0, 0, 1.22465e-16, 0, -1, 0, 0, 0, 0, 1)\") {\n                                //currentPage.style.zIndex = (zIndexCurrent);\n                                currentPage.setAttribute(\"style\", \"z-index:\" + zIndexCurrent);\n                            } else {\n                                //currentPage.style.zIndex = pagesAmount - (zIndexCurrent-1);\n                                currentPage.setAttribute(\"style\", \"z-index:\" + (pagesAmount - (zIndexCurrent - 1)));\n                            }\n                            closeRotateEn = false;\n                            openRotateEn = true;\n                        }\n                    }\n                    currentPage.style.transform = \"rotateY(\" + -deltaX + \"deg)\";\n                }\n            });\n\n            setRotateEvent();\n\n            document.addEventListener(\"mouseup\", function () {\n                spinRightZoneEn = false;\n                spinLeftZoneEn = false;\n                if (deltaX < 90 && autoRotate) {\n                    var rotateYInterval = setInterval(function () {\n                        if (deltaX <= 5) {\n                            currentPage.style.transform = \"rotateY(0deg)\";\n                            clearInterval(rotateYInterval);\n                            if (currentPage.className == \"col-xs-12 pageSection titleSection\") {\n                                var deltaTranslate = Math.round(document.querySelector(\".coinsBook\").getBoundingClientRect().left - bookPosition.left) / 2;\n                                if (deltaTranslate > 0) {\n                                    var rotateXInterval = setInterval(function () {\n                                        deltaTranslate = deltaTranslate - 10;\n                                        if (deltaTranslate > 0) {\n                                            document.querySelector(\".coinsBook\").style.transform = \"translateX(\" + deltaTranslate + \"px)\";\n                                        } else {\n                                            document.querySelector(\".coinsBook\").style.transform = \"translateX(\" + 0 + \"px)\";\n                                            autoRotate = false;\n                                            clearInterval(rotateXInterval);\n                                            leftZoneRestrict = true;\n                                            bookPosition = bookPositionCalc();\n                                        }\n                                    }, 20);\n                                }\n                            } else {\n                                autoRotate = false;\n                                return;\n                            }\n                        }\n                        deltaX = deltaX - 4;\n                        if (deltaX <= 0) deltaX = 0;\n                        currentPage.style.transform = \"rotateY(\" + -deltaX + \"deg)\";\n                    }, 20);\n                } else if (deltaX >= 90 && autoRotate) {\n                    var _rotateYInterval = setInterval(function () {\n                        if (deltaX >= 175 && autoRotate) {\n                            currentPage.style.transform = \"rotateY(180deg)\";\n                            clearInterval(_rotateYInterval);\n                            if (currentPage.className == \"col-xs-12 pageSection titleSection\") {\n                                var deltaTranslate = Math.round(document.querySelector(\"#coinEntrance\").getBoundingClientRect().right - document.querySelector(\".coinsBook\").getBoundingClientRect().right);\n                                var translateStart = 0;\n                                if (deltaTranslate > 0) {\n                                    var rotateXInterval = setInterval(function () {\n                                        translateStart = translateStart + 10;\n                                        if (translateStart < deltaTranslate) {\n                                            document.querySelector(\".coinsBook\").style.transform = \"translateX(\" + translateStart + \"px)\";\n                                        } else {\n                                            document.querySelector(\".coinsBook\").style.transform = \"translateX(\" + deltaTranslate + \"px)\";\n                                            autoRotate = false;\n                                            clearInterval(rotateXInterval);\n                                            leftZoneRestrict = true;\n                                            bookPosition = bookPositionCalc();\n                                            if (!isBookOpen) {\n                                                eventDispatcher.trigger(\"bookHaveOpened\");\n                                                isBookOpen = true;\n                                            }\n                                        }\n                                    }, 20);\n                                }\n                            } else {\n                                autoRotate = false;\n                                return;\n                            }\n                            return;\n                        }\n                        deltaX = deltaX + 4;\n                        if (deltaX >= 180) deltaX = 180;\n                        if (currentPage) currentPage.style.transform = \"rotateY(\" + -deltaX + \"deg)\";\n                    }, 20);\n                }\n            });\n            openPage(document.querySelector(\"#firstPage\"));\n        };\n\n        var openPage = function openPage(page) {\n            var speed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 4;\n            var close = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n            if (!close) {\n                var rotateDeg = 0;\n                var rotateInterval = setInterval(function () {\n                    if (rotateDeg < 180) {\n                        rotateDeg = rotateDeg + speed;\n                        page.style.transform = \"rotateY(\" + -rotateDeg + \"deg)\";\n                    } else {\n                        eventDispatcher.trigger(\"addNewPages\");\n                        page.style.transform = \"rotateY(180deg)\";\n                        clearInterval(rotateInterval);\n                    }\n                }, 20);\n                setTimeout(function () {\n                    deltaX = 180;\n                    autoRotate = true;\n                    currentPage = page;\n                    document.dispatchEvent(new Event(\"mouseup\"));\n                }, 800);\n            } else {\n                var _rotateDeg = 180;\n                var _rotateInterval = setInterval(function () {\n                    if (_rotateDeg > 0) {\n                        if (_rotateDeg < 90) {\n                            page.setAttribute(\"style\", \"z-index:100\");\n                            // page.style = \"z-index:100\";\n                        }\n                        _rotateDeg = _rotateDeg - speed;\n                        page.style.transform = \"rotateY(\" + -_rotateDeg + \"deg)\";\n                    } else {\n                        eventDispatcher.trigger(\"addNewPages\");\n                        page.style.transform = \"rotateY(0deg)\";\n                        clearInterval(_rotateInterval);\n                    }\n                }, 20);\n\n                setTimeout(function () {\n                    deltaX = 0;\n                    autoRotate = true;\n                    currentPage = page;\n                    document.dispatchEvent(new Event(\"mouseup\"));\n                }, 800);\n            }\n        };\n\n        var setRotateEvent = function setRotateEvent() {\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = Array.from(document.getElementsByTagName(\"section\"))[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var node = _step.value;\n\n                    node.addEventListener(\"mousedown\", function (event) {\n                        if (leftZone || rightZone) {\n                            currentPage = event.currentTarget;\n                            zIndexCurrent = window.getComputedStyle(currentPage).getPropertyValue(\"z-index\");\n                            positionCurrent = window.getComputedStyle(currentPage).getPropertyValue(\"transform\");\n                            startX = mouseX;\n                            leftZone ? spinLeftZoneEn = true : spinRightZoneEn = true;\n                        }\n                    });\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        };\n        var bookPositionCalc = function bookPositionCalc() {\n            var bookPosition = void 0;\n            var titlePage = document.querySelector(\".coinsBook\").firstElementChild;\n            if (window.getComputedStyle(titlePage).getPropertyValue(\"transform\") === \"matrix3d(-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1)\" || window.getComputedStyle(titlePage).getPropertyValue(\"transform\") === \"matrix3d(-1, 0, -1.22465e-16, 0, 0, 1, 0, 0, 1.22465e-16, 0, -1, 0, 0, 0, 0, 1)\") {\n                return bookPosition = document.querySelector(\"#coinEntrance\").getBoundingClientRect();\n            } else {\n                return bookPosition = titlePage.getBoundingClientRect();\n            }\n        };\n    };\n    return rotateController;\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ }),\n\n/***/ 316:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 0.bundle.js","//ЕventDispatcher предназначен для осуществления обмена информацией между различными(несвязанными на прямую) частями приложения. Events - oбъект-контейнер,названия свойств которого - есть именованные названиями событий массивы; метод trigger, получая  имя события исполняет callback функции подписчиков;метод on создает свойство-массив с именем события в контейнере events(если его не было создано) и добавляет в него callback функцию подписчика, возвращая последнему id события;метод off, получая id события, удаляет его или из массива одноименных событий или если событие там одно, удаляет соответствующее свойство объекта events.\r\n\"use strict\";\r\ndefine(function () {\r\n    const events = {};\r\n    let subEventId = -1;\r\n    return {\r\n        trigger(event, arg) {\r\n            if (!events[event]) {\r\n                return false;\r\n            }\r\n            events[event].forEach(event => event.callback(arg));\r\n        },\r\n        on(event, callback) {\r\n            if (!events[event]) {\r\n                events[event] = [];\r\n            }\r\n            const id = ++subEventId;\r\n            events[event].push({\r\n                callback: callback,\r\n                subEventId: id \r\n            });\r\n            return id;\r\n        },\r\n        off(id){\r\n            Object.keys(events).forEach(eventArray => { \r\n               events[eventArray].forEach((event,index) => {\r\n                   if(event.subEventId == id){ \r\n                       events[eventArray].length > 1 ? events[eventArray].splice(index,1) : delete events[eventArray];\r\n                   }\r\n                });  \r\n               \r\n            });\r\n        }\r\n    };\r\n});\n\n\n// WEBPACK FOOTER //\n// ./frontEnd/app/js/common/eventDispatcher.js","\"use strict\";\r\ndefine([\"./messageController.scss\"],function () {\r\nconst messageController = function (){\r\n    this.showConnectionError = function(){\r\n        let footters = Array.from(document.querySelectorAll(\".page__footer_messField,.backPage__footer_messField\"));\r\n        footters.forEach((node)=>{\r\n            node.classList.remove(\"completeMessage\");\r\n            node.classList.add(\"errorMessage\");\r\n            node.innerHTML = \"Сбой при загрузке, <br> проверьте соединение с интернетом.\";\r\n        }); \r\n        setTimeout(()=>{\r\n                footters.forEach((node)=>{\r\n                node.classList.remove(\"errorMessage\");\r\n                node.innerHTML = \"\";\r\n            });\r\n            footters = null;    \r\n        },6000);\r\n    }\r\n    this.showCollectionHasLoaded = function(){\r\n        let footters = Array.from(document.querySelectorAll(\".page__footer_messField,.backPage__footer_messField\"));\r\n        footters.forEach((node)=>{\r\n            node.classList.add(\"completeMessage\");\r\n            node.innerHTML = \"Все коллекции успешно загружены.\";\r\n        }); \r\n        setTimeout(()=>{\r\n                footters.forEach((node)=>{\r\n                node.classList.remove(\"completeMessage\");\r\n                node.innerHTML = \"<span class='arrow'>&#10150</span>\";\r\n            });\r\n            footters = null;    \r\n        },4000);  \r\n    }\r\n}   \r\nreturn new messageController();\r\n});\n\n\n// WEBPACK FOOTER //\n// ./frontEnd/app/js/common/messageController/messageController.js","\"use strict\";\r\ndefine([\"../common/eventDispatcher\",\r\n        \"./pagesView/contentPageView\",\r\n        \"./pagesView/coinsPageView\",\r\n        \"../rotateCtrl/rotateController\",\r\n        \"../coins/collections/coinsCollection\",\r\n        \"./pagesView/endPageView\",\r\n        \"./pagesView/aboutPageView\",\r\n        \"../coins/models/coinModel\",\r\n        \"./pagesView/coinsDescriptionView\"],\r\n    function (eventDispatcher,contentPageView,coinsPageView,rotateController,coinsCollection,endPageView,aboutPageView,coinModel,coinsDescriptionView) {\r\n    const contentPageController = function(){\r\n       let series = 0;\r\n       let pageNumber;     \r\n       this.showContentPage = function(){\r\n         const view = new contentPageView().render();\r\n         setPageZindex();\r\n         new rotateController().start();      \r\n       } \r\n       this.addNewCoinsSeries = function(){\r\n           return new Promise((resolve,reject) => {\r\n               new coinsCollection({url:\"getCoinsSeries\", seriesNumber: series++}).fetch({\r\n                   success(collection){\r\n                        let modelIndex = 0;\r\n                        collection.forEach((model)=>{\r\n                            model.set({pageNumb: document.querySelectorAll(\".contentSection\").length*2+1,modelIndex:modelIndex++});\r\n                            new coinsPageView(model).render();\r\n                        });\r\n                        eventDispatcher.trigger(\"addNewPages\");\r\n                        setPageZindex();\r\n                        //setTimeout(resolve,3000);\r\n                        resolve();   \r\n                   },\r\n                   error(){reject();}\r\n               });\r\n           });\r\n       }\r\n       \r\n       eventDispatcher.on(\"addNewPages\",()=>setPageZindex());\r\n       \r\n       eventDispatcher.on(\"pageCtrlGetCoinsDescr\",(coinsDescr)=>{\r\n           const page = coinsDescr.imgNum > 11 ? 1 : 0; \r\n           let sectionForDescDisplay = coinsDescr.view.querySelectorAll(\".page__body\")[page];\r\n           const coinsContainer = sectionForDescDisplay.querySelector(\".coinsContainer\"); \r\n           const coinDescription = sectionForDescDisplay.querySelector(\".coinDescriptionWrapper\");\r\n           let model = new coinModel({\r\n               url: \"getCoinDescription\"\r\n           });\r\n           \r\n           model.fetch(coinsDescr,{\r\n               success(response,model){\r\n                let disappear = 0.8;   \r\n                const disappearInterval = setInterval(() => {\r\n                    disappear = disappear - 0.1;\r\n                    if(disappear > 0){\r\n                         //coinsContainer.style=\"opacity:\"+disappear;\r\n                         coinsContainer.setAttribute(\"style\",\"opacity:\"+disappear);\r\n                    }else{\r\n                         clearInterval(disappearInterval);\r\n                         //coinsContainer.style=\"opacity:0\";\r\n                         coinsContainer.setAttribute(\"style\",\"opacity:0\");\r\n                         //coinDescription.style=\"display:block\";\r\n                         coinDescription.setAttribute(\"style\",\"display:block\");\r\n                         //coinsContainer.style=\"display:none\";\r\n                         coinsContainer.setAttribute(\"style\",\"display:none\");\r\n                        \r\n                    }   \r\n                 },30);\r\n                    model.set({coinsContainer:coinsContainer,coinDescription:coinDescription});\r\n                    new coinsDescriptionView(model).renderTo(coinDescription); \r\n               },\r\n               error(){\r\n                 eventDispatcher.trigger(\"showConnectionError\");    \r\n               }\r\n           });\r\n       }); \r\n        \r\n       eventDispatcher.on(\"closeDescription\",(model)=>{\r\n         //model.get(\"coinsContainer\").style=\"display:flex\";\r\n         model.get(\"coinsContainer\").setAttribute(\"style\",\"display:flex\");\r\n        //model.get(\"coinDescription\").style=\"display:none\";\r\n         model.get(\"coinDescription\").setAttribute(\"style\",\"display:none\");\r\n         model.get(\"coinDescription\").innerHTML = \"\";\r\n       });   \r\n     \r\n       this.showEndPage = function(){\r\n            new endPageView().render();\r\n            eventDispatcher.trigger(\"addNewPages\");\r\n            setPageZindex();\r\n       }\r\n       \r\n      this.showAboutPage = function(){\r\n            new aboutPageView().render();\r\n            eventDispatcher.trigger(\"addNewPages\");\r\n            setPageZindex();\r\n       }\r\n    \r\n        const setPageZindex = function(){\r\n                 const pages = Array.from(document.querySelectorAll(\".pageSection\")),\r\n                     maxIndex = pages.length;\r\n                 for(let i = 0; i < maxIndex; i++){\r\n                    let transform = window.getComputedStyle(pages[i]).getPropertyValue(\"transform\");\r\n                    let deg = Math.acos(transform.split(\",\")[0].split(\"(\")[1])*180/Math.PI;\r\n                    if(transform == \"none\" || ((Math.acos(transform.split(\",\")[0].split(\"(\")[1])*180/Math.PI) < 90)){\r\n                         //pages[i].setAttribute(\"style\", \"z-index:\" + (maxIndex - i));pages[i].style.zIndex = maxIndex - i;\r\n                        if(transform == \"none\"){\r\n                             pages[i].setAttribute(\"style\", \"z-index:\" + (maxIndex - i));   \r\n                        }else{\r\n                             pages[i].setAttribute(\"style\", \"transform:rotateY(\"+(-deg)+\"deg); z-index:\" + (maxIndex - i));    \r\n                        }\r\n                    }else{\r\n                        //pages[i].style.zIndex = 2 - (maxIndex - i - 1);\r\n                        if (deg != 180) deg = -deg;\r\n                        pages[i].setAttribute(\"style\",\"transform:rotateY(\"+(deg)+\"deg); z-index:\"+ (2 - (maxIndex - i - 1)));\r\n                    }\r\n                 }\r\n             eventDispatcher.trigger(\"captureNewCurrentPageZindex\");\r\n        }\r\n    }\r\n    return new contentPageController();\r\n});\n\n\n// WEBPACK FOOTER //\n// ./frontEnd/app/js/pages/pageController.js","//Представление предназначено для наполнения html шаблона данными с сервера и отображения последнего в соответствующем месте приложения. При создании представления на вход передается объект attr со следующими свойствами: attr.rootId - id или class элемента страницы, в котором будет развернуто представление; attr.tmplId - id скрипта, в ктором находится шаблон представления; attr.model - модель содержащая данные для шаблона.//templateMaker - шаблонизаторы предназначены для динамического посторяения html страниц используя данные с сервера. В основе простейшего шаблонизатора лежит принцип динамического построения js функция с использованием конструктора функций new Function(\"парам1\",\"парам2\"...\"тело функции\") и функции String.prototype.replace, с помощью которой в шаблоне ищется и заменяется данными с сервера определенная(регулярным выражением) часть шаблана.  \r\n\"use strict\";\r\ndefine([],function () {\r\nconst view = function(model){\r\n    this.model = model;\r\n}     \r\n\r\nview.prototype.render = function(model){\r\n    let intModel;\r\n    this.model !=undefined ? intModel =  this.model.getAttr() : intModel = {};\r\n    document.querySelector(this.rootId).insertAdjacentHTML('beforeend',this.tpl(intModel,this.tagClass,this.viewId));\r\n    if(this.events != undefined){\r\n        this.events.forEach(event => {\r\n            Array.from(document.querySelector(this.rootId).lastElementChild.querySelectorAll(event[1])).forEach((node)=>node.addEventListener(event[0],this[event[2]].bind(this)));  \r\n        });\r\n    }  \r\n    return this;\r\n}\r\n\r\nview.prototype.renderTo = function(root){\r\n    root.insertAdjacentHTML('beforeend',this.tpl(this.model.getAttr(),this.tagClass,this.viewId));\r\n    if(this.events != undefined){\r\n        this.events.forEach(event => {\r\n            Array.from(root.querySelectorAll(event[1])).forEach((node)=>node.addEventListener(event[0],this[event[2]].bind(this)));  \r\n        });\r\n    }  \r\n    return this;\r\n}\r\n\r\nview.prototype.extend = function(obj){\r\n    for (let prop in obj) {\r\n        if (Object.hasOwnProperty.call(obj, prop))\r\n            this[prop] = obj[prop];\r\n    }\r\n    \r\n    if(this.events != undefined){\r\n        let intEvents = [];\r\n        for (let event in this.events) {\r\n            if (Object.hasOwnProperty.call(this.events, event)){\r\n                const eventTarge = event.split(\" \");\r\n                intEvents.push([eventTarge[0],eventTarge[1],this.events[event]]);    \r\n            }\r\n        }\r\n        this.events = intEvents;   \r\n    }\r\n    return this;\r\n}\r\n\r\nview.prototype.remove = function(){\r\n    if(this.events != undefined){\r\n        this.events.forEach(event => {\r\n            Array.from(document.querySelector(event[1])).forEach((node)=>node.removeEventListener(event[0],event[2]));\r\n        });\r\n    }\r\n}\r\n\r\nreturn view;\r\n});\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./frontEnd/app/js/common/View.js","//Шаблонизаторы предназначены для динамического посторяения html страниц используя данные с сервера. В основе простейшего шаблонизатора лежит принцип динамического построения js функция с использованием конструктора функций new Function(\"парам1\",\"парам2\"...\"тело функции\") и функции String.prototype.replace, с помощью которой в шаблоне ищется и заменяется данными с сервера определенная(регулярным выражением) часть шаблана.\r\n\"use strict\";\r\ndefine(function () {\r\nconst templateMaker = function (idOrClass){\r\n    const htmlTpl = document.querySelector(idOrClass).innerHTML;\r\n    return new Function(\"model, tagClass, viewId\",\"let source = \" + JSON.stringify('<div id=\"<%=viewId%>\" class=\"<%=tagClass%>\">'+htmlTpl+'</div>').replace(/<%=(.+?)%>/g, (match,p1)=>{\r\n        return '\"+'+p1.replace(/[&<>[](){}\"']/g, \"\")+'+\"';    \r\n    }).replace(/<%(.+?)%>/g,'\";$1 source+=\"') +\";return source;\"\r\n    );\r\n}   \r\nreturn templateMaker;\r\n});\n\n\n// WEBPACK FOOTER //\n// ./frontEnd/app/js/common/templateMaker.js","//Модель  coinModel - контейнер, со встроенными методами, предназначенный для хранения информации о каждой монете. Модель имеет следующие методы: set/get - для установки и получения атрибутов модели; fetch/save - для получения/загрузки информации на сервер, методы fetch/save принимают на вход функции success и error, которые срабатывают в зависимости от результата взаимодействия с сервером(success-успеха,error-ошибки). Обмен с сервером происходит посредством объекта RESTfulAPI, который после инициализации и вызова метода send, возвразщает promise, при срабатывании которого методы fetch/save получают ответ от сервера и вызывают соответсвущие callback функции.    \r\n\"use strict\";\r\ndefine([\"../../common/RESTfulAPI\"],function (RESTfulAPI) {\r\n  const coinModel = function(attributes = {}){\r\n    this.url = attributes.url || \"test\"; \r\n    delete attributes.url;\r\n    this._coinAttr = attributes; \r\n  }\r\n   \r\n  coinModel.prototype.set = function(attrs = {}){\r\n    for (let attr in attrs) {\r\n        this._coinAttr[attr] = attrs[attr];    \r\n    } \r\n      return this;\r\n  },\r\n  coinModel.prototype.getAttr = function(){\r\n    let intModel = {}; \r\n    for (let prop in this._coinAttr) {\r\n            intModel[prop] = this._coinAttr[prop];\r\n    }  \r\n    return intModel;    \r\n  },\r\n      \r\n    coinModel.prototype.get = function(attr){\r\n        return this._coinAttr[attr];    \r\n    },\r\n  \r\n  coinModel.prototype.fetch = function(data,callbacks = {}){\r\n    let responsePromise = RESTfulAPI.init({method: \"GET\", url: this.url+\"?imgNum=\"+data.imgNum+\"&imgPageNum=\"+data.imgPageNum+\"&imgSeries=\"+data.imgSeries}).send();\r\n    responsePromise.then(serverResponse => {\r\n        serverResponse.status == \"200\" ? callbacks.success(serverResponse, this.set(JSON.parse(serverResponse.data))) : callbacks.error(serverResponse) \r\n        return;    \r\n     },()=>{});  \r\n  }\r\n  \r\n  coinModel.prototype.save = function(callbacks = {}){\r\n    let method;  \r\n    this._coinAttr['id'] !=undefined ? method = \"PUT\" : method = \"POST\";\r\n    let responsePromise = RESTfulAPI.init({method: method, url: this.url}).send(this._coinAttr);\r\n    responsePromise.then(serverResponse => {\r\n        serverResponse.status == \"200\" ? callbacks.success(serverResponse) : callbacks.error(serverResponse) \r\n        return;    \r\n     },()=>{});  \r\n  }    \r\n return coinModel;  \r\n});\n\n\n// WEBPACK FOOTER //\n// ./frontEnd/app/js/coins/models/coinModel.js","//Объект RESTfulAPI предназначен для осущесивления обмена данными с сервером. Обмен с сервером происходи посредством встроенного объекта XMLHttpRequest. RESTfulAPI имеет следующие методы: метод init - для установки метода обмена с сервером (POST,GET,PUT,UPDATE),url с которым происходит обмен и сами данные; метод send - для отправки сообщение на сервер.   \r\n\"use strict\";\r\ndefine(function () {\r\nconst RESTfulAPI = function(options){}     \r\n\r\nRESTfulAPI.prototype.init = function(options,data = {}){\r\n    this.method = options.method,\r\n    this.url = options.url;\r\n    this.data = data;\r\n    return this;\r\n}\r\n\r\nRESTfulAPI.prototype.send = function(data=null){\r\n   \r\n    return new Promise((resolve,reject) => {\r\n        let req = new XMLHttpRequest(),\r\n            resp;\r\n        req.open(this.method, this.url, true);\r\n        req.setRequestHeader(\"Content-Type\", 'application/json');\r\n        req.addEventListener(\"load\", () => {\r\n            resolve({\r\n                    status: req.status, \r\n                    data: req.responseText\r\n                   });\r\n        });\r\n        req.send(JSON.stringify(data));\r\n    });\r\n}\r\n\r\n\r\nreturn new RESTfulAPI();\r\n});\n\n\n// WEBPACK FOOTER //\n// ./frontEnd/app/js/common/RESTfulAPI.js","//Коллекция coinsCollection - контейнер моделей монет. Коллекция имеет метод fetch для информации о моделях с сервера и создания массива моделей coinsModel. Обмен с сервером происходит аналогично методу fetch модели coinsModel. \r\n\"use strict\";\r\ndefine([\"../../common/RESTfulAPI\",\"../models/coinModel\"],function (RESTfulAPI,coinsModel) {\r\n  const coinsCollection = function(attr = {}){\r\n   this.url = attr.url+\"?series=\"+attr.seriesNumber;\r\n   this.seriesNumber = attr.seriesNumber;  \r\n   this.collection = [];\r\n  }\r\n\r\n  coinsCollection.prototype.pop = function(){\r\n    return this.collection.pop();    \r\n  },\r\n\r\n  coinsCollection.prototype.fetch = function(callbacks = {}){\r\n    let responsePromise = RESTfulAPI.init({method: \"GET\", url: this.url}).send(null);\r\n    responsePromise.then(serverResponse => {\r\n        if (serverResponse.status == \"200\"){\r\n            const modelCollect = JSON.parse(serverResponse.data);\r\n            Object.keys(modelCollect).forEach(modelIndex =>{\r\n                this.collection.push(new coinsModel(modelCollect[modelIndex]));\r\n            });\r\n            callbacks.success(this.collection);\r\n        }else callbacks.error(serverResponse);  \r\n     }); \r\n  }\r\n return coinsCollection;  \r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./frontEnd/app/js/coins/collections/coinsCollection.js","\"use strict\";\r\ndefine([\"../../common/View\",\"../../common/templateMaker\"],function (View,templateMaker) {\r\n    const aboutPageView = function(model){\r\n      return new View(model).extend({ \r\n          rootId:\".coinsBook\",\r\n          tpl: templateMaker(\"#aboutPage-tpl\"),\r\n      });  \r\n    }\r\n    return aboutPageView;\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./frontEnd/app/js/pages/pagesView/aboutPageView.js","\"use strict\";\r\ndefine([\"../../common/View\",\"../../common/templateMaker\",\"../../common/eventDispatcher\"],function (View,templateMaker,eventDispatcher) {\r\n    const coinsDescription = function(model){\r\n      return new View(model).extend({ \r\n          tagClass: \"coinDescription\",\r\n          tpl: templateMaker(\"#coinsDescription-tpl\"),\r\n          \r\n           events:{\r\n            \"click .closeDescription\": \"closeDescription\",\r\n           },\r\n          \r\n           closeDescription(){\r\n                eventDispatcher.trigger(\"closeDescription\",this.model); \r\n           }\r\n      });  \r\n    }\r\n    return coinsDescription;\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./frontEnd/app/js/pages/pagesView/coinsDescriptionView.js","\"use strict\";\r\ndefine([\"../../common/View\",\"../../common/eventDispatcher\",\"../../common/templateMaker\",\"../pages.scss\"],function (View,eventDispatcher,templateMaker) {\r\n    const contentPageView = function(model){\r\n      return new View(model).extend({\r\n        viewId: \"view\" + Date.now(),   \r\n        rootId:\".coinsBook\",\r\n        tagClass: \"\", \r\n        tpl: templateMaker(\"#coinPage-tpl\"),\r\n        events:{\r\n            \"click .coinsContainer\": \"getCoinsDescr\",\r\n            \"click .page__footer_messField\": \"openPage\",\r\n            \"click .backPage__footer_messField\": \"closePage\",\r\n        },  \r\n         getCoinsDescr(event){ \r\n            const series = [\"Города воинской славы\",\"Древние города России\",\"Российская Федерация\",\"Русский балет\",\"Красная книга\",\"70-летие Победы\",\"Памятные монеты\"];\r\n             \r\n            const imgSeries = series.indexOf(event.target.getAttribute(\"data-series\"));\r\n            if(imgSeries!= -1){\r\n                eventDispatcher.trigger(\"pageCtrlGetCoinsDescr\",{\r\n                   imgNum: event.target.getAttribute(\"data-img\"),\r\n                   imgPageNum: event.target.getAttribute(\"data-page\"),\r\n                   imgSeries: imgSeries,\r\n                   view: document.querySelector(\"#\"+this.viewId)\r\n               });     \r\n            }   \r\n             \r\n         },\r\n          openPage(){\r\n             eventDispatcher.trigger(\"openPage\",document.querySelector(\"#\"+this.viewId).firstElementChild);    \r\n          },\r\n          closePage(){\r\n             eventDispatcher.trigger(\"closePage\",document.querySelector(\"#\"+this.viewId).firstElementChild);    \r\n          }\r\n      });  \r\n    }\r\n    return contentPageView;\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./frontEnd/app/js/pages/pagesView/coinsPageView.js","\"use strict\";\r\ndefine([\"../../common/View\",\"../../common/eventDispatcher\",\"../../common/templateMaker\",\"../pages.scss\"],function (View,eventDispatcher,templateMaker) {\r\n    const contentPageView = function(model){\r\n      return new View(model).extend({\r\n          viewId: \"view\" + Date.now(),  \r\n          rootId:\"#coinEntrance\",\r\n          tagClass: \"pageContainer\", \r\n          tpl: templateMaker(\"#startPage-tpl\"),\r\n          events:{\r\n            \"click .page__nav_item\": \"turnThePage\",\r\n            \"click .page__footer_messField\": \"openPage\",\r\n            \"click .backPage__footer_messField\": \"closePage\",\r\n          },\r\n          \r\n          turnThePage(event){\r\n            const target = event.currentTarget;\r\n            if(!target.firstChild.classList.contains(\"loadingFog\")){\r\n                eventDispatcher.trigger(\"turnThePage\",Math.floor(target.getAttribute(\"data-num\")/2));    \r\n            }\r\n          },\r\n          openPage(){\r\n             eventDispatcher.trigger(\"openPage\",document.querySelector(\".chaptersSection\"));    \r\n          },\r\n          closePage(){\r\n             eventDispatcher.trigger(\"closePage\",document.querySelector(\".chaptersSection\"));    \r\n          }\r\n      });  \r\n    }\r\n    return contentPageView;\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./frontEnd/app/js/pages/pagesView/contentPageView.js","\"use strict\";\r\ndefine([\"../../common/View\",\"../../common/templateMaker\"],function (View,templateMaker) {\r\n    const endPageView = function(model){\r\n      return new View(model).extend({\r\n          rootId:\".coinsBook\",\r\n          tpl: templateMaker(\"#endPage-tpl\"),\r\n      });  \r\n    }\r\n    return endPageView;\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./frontEnd/app/js/pages/pagesView/endPageView.js","\"use strict\";\r\ndefine([\"../common/eventDispatcher\"],function (eventDispatcher) {\r\n    const rotateController = function(){\r\n            let mouseX,mouseY,\r\n                currentPage,zIndexCurrent,positionCurrent,\r\n                spinLeftZoneEn,spinRightZoneEn,\r\n                startX,\r\n                deltaX,\r\n                rightZone,leftZone,\r\n                leftZoneRestrict = false,\r\n                autoRotate = false,\r\n                isBookOpen = false,\r\n                closeRotateEn = false,\r\n                openRotateEn = true; \r\n\r\n          this.start = function(){\r\n            let bookPosition = bookPositionCalc(),\r\n                pagesAmount = Array.from(document.querySelectorAll(\".pageSection\")).length;\r\n           \r\n              \r\n            eventDispatcher.on(\"addNewPages\",()=>setRotateEvent()); \r\n            \r\n            eventDispatcher.on(\"captureNewCurrentPageZindex\",()=>{\r\n                if(currentPage){\r\n                    zIndexCurrent = window.getComputedStyle(currentPage).getPropertyValue(\"z-index\");\r\n                    if(deltaX >= 90){\r\n                        positionCurrent = \"matrix3d(-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1)\";    \r\n                    }else{\r\n                        positionCurrent = window.getComputedStyle(currentPage).getPropertyValue(\"transform\");  \r\n                    }    \r\n                }\r\n            });\r\n              \r\n            window.addEventListener(\"orientationchange\", function() {\r\n                window.location.reload(false);\r\n            });\r\n              \r\n            eventDispatcher.on(\"turnThePage\",(pageNum)=>{\r\n                const pageSection = document.querySelectorAll(\".coinsSection\");\r\n                let pages = Array.prototype.slice.call(pageSection, 0, (pageNum-2));\r\n                 if (pageNum-2 > 0){ \r\n                     pages.forEach((page)=>{\r\n                          page.classList.toggle(\"hide\");\r\n                     }); \r\n                     openPage(document.querySelector(\".chaptersSection\"),5);\r\n                     setTimeout(()=>{\r\n                         openPage(pageSection[pageNum-2],5)\r\n                         setTimeout(()=>{\r\n                             pages.forEach((page)=>{\r\n                                 page.style.transform = \"rotateY(180deg)\";\r\n                                 page.classList.toggle(\"hide\");\r\n                            });\r\n                             eventDispatcher.trigger(\"addNewPages\");\r\n                             pages = null;\r\n                         },1000);\r\n                     },650);\r\n                 }else{\r\n                     openPage(document.querySelector(\".chaptersSection\"),5); \r\n                 }   \r\n             });  \r\n              \r\n            eventDispatcher.on(\"openPage\",(page)=>openPage(page,5));  \r\n            eventDispatcher.on(\"closePage\",(page)=>openPage(page,5,true));  \r\n                   \r\n            window.addEventListener(\"resize\", () => {\r\n                bookPosition = bookPositionCalc();\r\n            });  \r\n            \r\n            document.addEventListener(\"mousemove\", event => {\r\n                let yZoneEn = (0 < mouseY - bookPosition.top &&  mouseY < (bookPosition.top + bookPosition.height));\r\n                mouseX = event.clientX;\r\n                mouseY = event.clientY;\r\n                if((0 < mouseX - bookPosition.left &&  mouseX - bookPosition.left < 75 && leftZoneRestrict) && yZoneEn){\r\n                    leftZone = true;\r\n                    document.body.setAttribute(\"style\",\"cursor:move\");\r\n                } else if((mouseX < (bookPosition.left + bookPosition.width) && (mouseX > (bookPosition.left + bookPosition.width - 75))) && yZoneEn){\r\n                     rightZone = true;\r\n                     document.body.setAttribute(\"style\",\"cursor:move\");\r\n                }else{\r\n                  leftZone = false;\r\n                  rightZone = false;\r\n                  document.body.setAttribute(\"style\",\"cursor:default\");\r\n                }\r\n            });\r\n              \r\n            document.addEventListener(\"mousemove\",()=>{  \r\n                if((spinLeftZoneEn || spinRightZoneEn)){\r\n                    if(spinRightZoneEn) deltaX = (startX-mouseX)/6;\r\n                    if(spinLeftZoneEn) deltaX = 180 - (mouseX - startX)/6;\r\n                    if(deltaX <= 0) deltaX = 0;\r\n                    if(deltaX >= 180) deltaX = 180; \r\n                    autoRotate = true;\r\n                    if(deltaX > 90) {\r\n                        if(openRotateEn){\r\n                            //currentPage.firstElementChild.style.zIndex = \"0\";\r\n                            currentPage.firstElementChild.setAttribute(\"style\",\"z-index:0\");\r\n                            if(positionCurrent == \"matrix3d(-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1)\" || positionCurrent ==\"matrix3d(-1, 0, -1.22465e-16, 0, 0, 1, 0, 0, 1.22465e-16, 0, -1, 0, 0, 0, 0, 1)\"){\r\n                                //currentPage.style.zIndex = (zIndexCurrent);\r\n                                currentPage.setAttribute(\"style\",\"z-index:\"+(zIndexCurrent));\r\n                            }else{\r\n                                 //currentPage.style.zIndex = pagesAmount - (zIndexCurrent-1);\r\n                                currentPage.setAttribute(\"style\",\"z-index:\" + (pagesAmount - (zIndexCurrent-1)));\r\n                            }\r\n                           closeRotateEn =true; \r\n                           openRotateEn = false;  \r\n                        }\r\n                    }else if(deltaX < 90){\r\n                        if(closeRotateEn){\r\n                            //currentPage.firstElementChild.style.zIndex = \"1\";\r\n                              currentPage.firstElementChild.setAttribute(\"style\",\"z-index:1\");\r\n                            if(positionCurrent != \"matrix3d(-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1)\" && positionCurrent !=\"matrix3d(-1, 0, -1.22465e-16, 0, 0, 1, 0, 0, 1.22465e-16, 0, -1, 0, 0, 0, 0, 1)\"){\r\n                                //currentPage.style.zIndex = (zIndexCurrent);\r\n                                 currentPage.setAttribute(\"style\",\"z-index:\"+(zIndexCurrent));\r\n                            }else{\r\n                                 //currentPage.style.zIndex = pagesAmount - (zIndexCurrent-1);\r\n                                 currentPage.setAttribute(\"style\",\"z-index:\" + (pagesAmount - (zIndexCurrent-1)));\r\n                            }\r\n                           closeRotateEn =false; \r\n                           openRotateEn = true;    \r\n                        }\r\n                    }\r\n                    currentPage.style.transform = \"rotateY(\"+(-deltaX)+\"deg)\";     \r\n                }    \r\n           }); \r\n              \r\n            setRotateEvent();\r\n  \r\n            document.addEventListener(\"mouseup\", () => {\r\n                spinRightZoneEn = false;\r\n                spinLeftZoneEn = false;\r\n                if(deltaX < 90 && autoRotate){\r\n                    const rotateYInterval = setInterval(() => {\r\n                        if(deltaX <= 5){\r\n                            currentPage.style.transform = \"rotateY(0deg)\";\r\n                            clearInterval(rotateYInterval);\r\n                            if(currentPage.className == \"col-xs-12 pageSection titleSection\"){\r\n                                 let deltaTranslate = Math.round(document.querySelector(\".coinsBook\").getBoundingClientRect().left -bookPosition.left)/2;\r\n                                if (deltaTranslate > 0) {\r\n                                     const rotateXInterval = setInterval(() => {\r\n                                        deltaTranslate = deltaTranslate - 10;\r\n                                        if(deltaTranslate > 0){\r\n                                            document.querySelector(\".coinsBook\").style.transform = \"translateX(\"+(deltaTranslate)+\"px)\";\r\n                                        }else{\r\n                                            document.querySelector(\".coinsBook\").style.transform = \"translateX(\"+(0)+\"px)\";\r\n                                            autoRotate = false;\r\n                                            clearInterval(rotateXInterval);\r\n                                            leftZoneRestrict = true;\r\n                                            bookPosition = bookPositionCalc();\r\n                                        }    \r\n                                     },20);\r\n                                 }\r\n                            }else{\r\n                                autoRotate = false;\r\n                                return;\r\n                            }\r\n                        }\r\n                        deltaX = deltaX - 4;\r\n                        if(deltaX <= 0) deltaX = 0;\r\n                        currentPage.style.transform = \"rotateY(\"+(-deltaX)+\"deg)\";   \r\n                    }, 20);  \r\n                }else if(deltaX >= 90 && autoRotate){\r\n                    const rotateYInterval = setInterval(() => {\r\n                        if(deltaX >= 175 && autoRotate){\r\n                            currentPage.style.transform = \"rotateY(180deg)\";\r\n                            clearInterval(rotateYInterval);\r\n                            if(currentPage.className == \"col-xs-12 pageSection titleSection\"){\r\n                                 let deltaTranslate = Math.round(document.querySelector(\"#coinEntrance\").getBoundingClientRect().right - document.querySelector(\".coinsBook\").getBoundingClientRect().right);\r\n                                 let translateStart = 0;\r\n                                 if (deltaTranslate > 0) {\r\n                                     const rotateXInterval = setInterval(() => {\r\n                                        translateStart = translateStart + 10;\r\n                                        if(translateStart < deltaTranslate){\r\n                                            document.querySelector(\".coinsBook\").style.transform = \"translateX(\"+(translateStart)+\"px)\";\r\n                                        }else{\r\n                                            document.querySelector(\".coinsBook\").style.transform = \"translateX(\"+(deltaTranslate)+\"px)\";\r\n                                            autoRotate = false;\r\n                                            clearInterval(rotateXInterval);\r\n                                            leftZoneRestrict = true;\r\n                                            bookPosition = bookPositionCalc();\r\n                                            if(!isBookOpen){\r\n                                                eventDispatcher.trigger(\"bookHaveOpened\");\r\n                                                isBookOpen = true;\r\n                                            }\r\n                                        }    \r\n                                     },20);\r\n                                 }\r\n                            }else{\r\n                                autoRotate = false;\r\n                                return;\r\n                            }\r\n                            return;\r\n                        }\r\n                        deltaX = deltaX + 4;\r\n                        if(deltaX >= 180) deltaX = 180;\r\n                        if(currentPage)\r\n                            currentPage.style.transform = \"rotateY(\"+(-deltaX)+\"deg)\";   \r\n                    }, 20);    \r\n                }\r\n            });\r\n            openPage(document.querySelector(\"#firstPage\"));  \r\n          }\r\n \r\n        const openPage = function(page,speed = 4,close=false){\r\n            if(!close){\r\n                let rotateDeg = 0;\r\n                const rotateInterval = setInterval(() => \r\n                    {\r\n                        if(rotateDeg < 180){\r\n                            rotateDeg = rotateDeg + speed;\r\n                            page.style.transform = \"rotateY(\"+(-rotateDeg)+\"deg)\";\r\n\r\n                        }else{\r\n                            eventDispatcher.trigger(\"addNewPages\");\r\n                            page.style.transform = \"rotateY(180deg)\";     \r\n                            clearInterval(rotateInterval);\r\n                        }    \r\n                    },20); \r\n            setTimeout(()=>{\r\n                deltaX = 180;\r\n                autoRotate = true;\r\n                currentPage = page;\r\n                document.dispatchEvent(new Event(\"mouseup\"));\r\n            },800);\r\n                \r\n            }else{\r\n                let rotateDeg = 180;\r\n                const rotateInterval = setInterval(() => \r\n                    {\r\n                        if(rotateDeg > 0){\r\n                            if(rotateDeg < 90){\r\n                                 page.setAttribute(\"style\",\"z-index:100\");\r\n                              // page.style = \"z-index:100\";\r\n                            }\r\n                            rotateDeg = rotateDeg - speed;\r\n                            page.style.transform = \"rotateY(\"+(-rotateDeg)+\"deg)\";\r\n\r\n                        }else{\r\n                            eventDispatcher.trigger(\"addNewPages\");\r\n                            page.style.transform = \"rotateY(0deg)\";     \r\n                            clearInterval(rotateInterval);\r\n                        }    \r\n                     },20);\r\n                \r\n            setTimeout(()=>{\r\n                deltaX = 0;\r\n                autoRotate = true;\r\n                currentPage = page;\r\n                document.dispatchEvent(new Event(\"mouseup\"));\r\n            },800);\r\n            }     \r\n        }  \r\n          \r\n        const setRotateEvent = function(){\r\n             for (const node of Array.from(document.getElementsByTagName(\"section\"))) {\r\n                    node.addEventListener(\"mousedown\", event => {\r\n                        if(leftZone || rightZone){\r\n                            currentPage = event.currentTarget;\r\n                            zIndexCurrent = window.getComputedStyle(currentPage).getPropertyValue(\"z-index\");\r\n                            positionCurrent = window.getComputedStyle(currentPage).getPropertyValue(\"transform\");\r\n                            startX = mouseX;\r\n                            leftZone ? spinLeftZoneEn = true : spinRightZoneEn = true;\r\n                        }\r\n                    });      \r\n             }\r\n        }      \r\n        const bookPositionCalc = function(){\r\n            let bookPosition;\r\n            const titlePage = document.querySelector(\".coinsBook\").firstElementChild;\r\n            if(window.getComputedStyle(titlePage).getPropertyValue(\"transform\") === \"matrix3d(-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1)\" || window.getComputedStyle(titlePage).getPropertyValue(\"transform\") === \"matrix3d(-1, 0, -1.22465e-16, 0, 0, 1, 0, 0, 1.22465e-16, 0, -1, 0, 0, 0, 0, 1)\"){\r\n                return bookPosition = document.querySelector(\"#coinEntrance\").getBoundingClientRect();\r\n            }else {\r\n                return bookPosition = titlePage.getBoundingClientRect(); \r\n            }    \r\n        };\r\n    }\r\n    return rotateController;\r\n});\n\n\n// WEBPACK FOOTER //\n// ./frontEnd/app/js/rotateCtrl/rotateController.js"],"sourceRoot":""}